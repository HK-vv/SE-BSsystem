[TOC]

# BrainStorm知识竞赛系统

## 1 版本历史

| 日期     | 版本 | 人员   | 更新内容                            |
| -------- | ---- | ------ | ----------------------------------- |
| 22.03.13 | v0.0 | 赵子涵 | 创建文档及目录; 编写前言和项目概述. |
| 22.03.14 | v0.1 | 李昀泽 | 编写功能性需求-题库管理功能 |
| 22.03.14 | v0.2    |  刘硕      |  编写功能性需求-用户信息管理功能             |
| 22.03.20 | v0.3 | 黄辰麟 | 编写用户端界面需求                                   |
| 22.03.20 | v0.4 | 张瑞轩 | 编写界面需求外非功能性需求 |
|  |  |  |  |

## 2 前言

### 2.1 编写目的

根据课程组的总体要求, 和小组的相关讨论, 我们编写本需求规格书.

本规格书明确"BrainStorm知识竞赛系统"的产品需求, 描述其功能模块和框架, 面向用户群体的特征, 和开发中的非功能性需求. 撰写本文旨在明确项目需求, 合理安排项目规划与进度, 有效组织软件开发与测试, 该文档也提供了结项时的验收依据.

本文档面向的读者为软件工程课程组老师和助教(客户), 项目管理人员, 设计人员, 开发人员和测试人员, 以及项目使用文档的编写者.

### 2.2 范围

本文档内容包括:
1) 对项目背景, 目标, 设计约束等基本信息进行概述;
2) 按功能性需求, 非功能性需求分别对需求进行分析.

### 2.3 参考文档

1) 需求规格说明书(示例), 北航软工课程组.

## 3 项目概述

### 3.1 项目背景

知识的重要性不言而喻. 人类几千年的历史虽创造出极其丰富的物质基础, 但各种科学/哲学提炼出的知识才是推动发展的核心因素. 无论是出于欣赏或功利, 知识总是被大众广泛喜爱的, 拥有知识的人更是如此. 人们总是喜欢把事物排个名次, 决个高低, 拥有知识的人也不例外.

古代有科举, 近代有考试. 受利于科技发展, 试卷和考场已经不必要了, 一个线上的知识竞赛系统就可以满足相当多的需求. 然而, 虽然当前存在很多公开的知识竞赛软件, 但其包含的题目通常已经被创建者固定, 而难以应用于诸如兴趣社团这样有一定规模但又不具有软件开发能力的小群体. 因此, 我们计划开发BrainStorm知识竞赛系统, 除知识竞赛的基本功能外, 提供题库管理和比赛创建功能, 来满足上述群体的需要. 

### 3.2 项目目标

BrainStorm的目标是搭建一个知识竞赛系统, 为小用户群体的题目定制和比赛需求提供支持.

系统预计支持以下功能: 基本的用户登录登出信息修改功能, 题库批量添加及管理功能, 用户可定制自主练习功能, 管理员的自定义比赛创建和用户的比赛参与功能.

### 3.4 总体框架

```sequence
participant 超级管理员 as spmg
participant 管理员 as mg
participant 题库及后台 as tk
participant 用户 as us
spmg->tk: 管理题目
mg->tk: 管理题目
note right of mg: 题库管理功能
spmg->mg: 管理
mg->us: 管理
note right of mg: 用户管理功能
tk->us: 随机抽题练习
note left of us: 自主练习功能
mg->tk: 选题创建比赛并发布
tk->us: 参加比赛
note left of tk: 比赛创建及参与功能
```

### 3.5 用户特点

#### 3.5.1 使用人员

##### 3.5.1.1 用户

| 信息     | 情况                                |
| -------- | ----------------------------------- |
| 用户身份 | 知识竞赛参与者                      |
| 用户动机 | 学习知识, 参与比赛.                 |
| 典型场景 | 在用户端练习, 并参加社团组织的比赛. |
| 预计占比 | 90%                                 |

##### 3.5.1.2 管理员

| 信息     | 情况                                |
| -------- | ----------------------------------- |
| 用户身份 | 知识竞赛组织者                      |
| 教育水平 | 初中及以上                          |
| 技术专长 | 有一定管理及计算机知识              |
| 用户动机 | 为所在团体组织知识竞赛              |
| 典型场景 | 在社团活动后, 添加新的题目创建比赛. |
| 预计占比 | 9%                                  |

#### 3.5.2 维护人员

| 信息     | 情况                                                         |
| -------- | ------------------------------------------------------------ |
| 用户身份 | 超级管理员                                                   |
| 教育水平 | 大学本科                                                     |
| 技术专长 | 熟悉网站管理和维护                                           |
| 典型场景 | 查看网站日访问情况, 处理服务器故障, 应用高权限管理题库和普通管理员 |
| 预计占比 | 1%                                                           |

### 3.6 设计约束

#### 3.6.1 平台约束和经费限制

本项目建设过程中, 软件工程课程组提供了华为软开云对服务器部署进行支持, 无其他经费预算.

#### 3.6.2 开发期限

需要在2022年5月6日之前发布项目测试版, 2022年6月3日之前发布稳定版.

#### 3.6.3 实现语言

项目后端主要使用Python实现, 前端主要使用JavaScript实现.

## 4 功能性需求

### 4.1 用户信息管理功能

#### 4.1.1 业务流程

<div>			<!--块级封装-->
    <center>	<!--将图片和文字居中-->
    <img src="img\user_information_management1.jpg" alt="user_information_managementt" style="zoom:60%;"/>
    <br>		<!--换行-->
    图 4.1.1 信息管理流程图，分管理员（左）和普通用户（右）	<!--标题-->
    </center>
</div>

#### 4.1.2 用例图

<div>			<!--块级封装-->
    <center>	<!--将图片和文字居中-->
    <img src="img\use_case_diagram1.jpg" alt="use_case_diagram" style="zoom:60%;" />
    <br>		<!--换行-->
    图 4.1.2 信息管理用例图	<!--标题-->
    </center>
</div>

#### 4.1.3 功能点

##### 4.1.3.1 业务定义/功能描述

本模块为用户信息管理模块，用来管理业务信息和行为，主要包含以下几个业务：

**1） 创建管理员账号功能：**
由超级管理员创建管理员账号并设定初始密码，管理员可自行修改个人密码。

**2） 账号登录功能：**
管理员通过个人用户名及密码登录，提供找回密码功能，联系超级管理员重置密码。用户通过微信授权登录。

**3）	信息展示功能：**
两类管理员均可看到所有用户的信息和比赛排名，并用户可以看到自己的个人信息以及排名榜前三名。

**4） 个人信息修改功能：**
管理员可以修改个人密码，修改时需要验证当前密码，超级管理员可以帮助管理员进行密码重置。

##### 4.1.3.2 使用角色描述

| 使用者     | 使用功能                                                     | 权限     |
| ---------- | ------------------------------------------------------------ | -------- |
| 用户       | 可以查看个人信息和排名榜前三名 | 权限低   |
| 管理员     | 查看所有普通用户和管理员的信息，查看比赛排名榜，查看和修改自己的信息  | 权限中等 |
| 超级管理员     | 创建管理员账号，查看和修改所有用户和管理员的信息，查看比赛排名榜，重置密码  | 权限高 |

##### 4.1.3.3 业务操作流程

正常业务如图4.1.1所示，异常操作有：
1）	管理员忘记密码，可以联系超级管理员重置密码。

##### 4.1.3.4 输入

| 功能子模块     | 数据名称                                                     | 格式     |
| ---------- | ------------------------------------------------------------ | -------- |
| 管理员修改信息模块     | 姓名、性别、用户名、密码、邮箱、联系电话 | 字符串   |

##### 4.1.3.5 输出

| 功能子模块     | 输出内容                                                    |
| ---------- | ------------------------------------------------------------ |
| 创建管理员账号模块     | 创建成功，创建失败 |
| 修改个人信息模块       | 信息修改成功，信息修改失败 |
| 个人信息展示模块       | 个人信息 |

##### 4.1.3.6 用户界面

略（在非功能需求部分详述）

##### 约束

超级管理员具有超级权限，可以重置密码，修改全部用户及管理员信息，但是不能查看涉及隐私内容，例如密码。

### 4.2 题库管理功能

#### 4.2.1 业务流程

<div>			<!--块级封装-->
    <center>	<!--将图片和文字居中-->
    <img src="img\question_flowchart.jpg" alt="question_flowchart" style="zoom:60%;" />
    <br>		<!--换行-->
    图4.2.1  业务流程图	<!--标题-->
    </center>
</div>

#### 4.2.2 用例图

<div>			<!--块级封装-->
    <center>	<!--将图片和文字居中-->
    <img src="img\question_useCase.jpg" alt="question_flowchart" style="zoom:60%;" />
    <br>		<!--换行-->
    图4.2.2 题库管理用例图	<!--标题-->
    </center>
</div>

#### 4.2.3 功能点

##### 4.2.3.1业务定义/功能描述

本模块为题库管理模块，用于管理题库，主要包括如下几个业务：

**1）	题目添加功能：**
管理员和超级管理员可以将题目添加到题库中，填写题目名称、题目描述，选定题目标签（tag）并选择是否公开本题即可完成添加。题目添加者需自己保证题目叙述的准确性和无二义性。

**2）	题目筛选功能：**
管理员和超级管理员可以依据题目编号、题目名称、题目标签、是否公开中任一或多个属性对题目进行筛选。

**3）	题目查看功能：**
管理员和超级管理员可以查看当前题库中所有题目的所有信息。

**4）	题目编辑功能：**
超级管理员有权限编辑当前题库中所有题目的所有属性（题目编号除外），管理员仅有权限编辑题库中自己添加题目的所有属性（题目编号除外）。

**5）	题目删除功能：**
超级管理员有权限删除当前题库中的所有题目，管理员只有权限删除题库中自己添加的题目。

##### 4.2.3.2 使用角色描述

| 使用者     | 使用功能                                                     | 权限     |
| ---------- | ------------------------------------------------------------ | -------- |
| 超级管理员 | 题目添加，题目筛选，题目查看，自创题目编辑，非自创题目编辑，自创题目删除，非自创题目删除 | 权限高   |
| 管理员     | 题目添加，题目筛选，题目查看，自创题目编辑，自创题目删除     | 权限中等 |

##### 4.2.3.3 业务操作流程

正确操作流程如图4.2.1所示，异常操作流程：

1）题目添加/编辑者填写不符合格式的题目信息，给出提示，并给出正确的格式规范

2）管理员编辑/删除其他用户添加的题目，给出提示，没有该权限

##### 4.2.3.4 输入

| 子功能模块   | 数据名称               | 数据格式   | 数据范围及单位               |
| ------------ | ----------------------| ------------| ----------------------|
| 题目添加模块 | 题目名称                |字符串       |1-16个字符              |
| 题目添加模块 | 题目描述                |字符串       |1-64个字符              |
| 题目添加模块 | 题目标签                |字符串       |1-6个字符               |
| 题目添加模块 | 是否公开                |布尔型       |是/否                   |
| 题目筛选模块 | 题目编号                |字符串       |1-8个字符               |
| 题目筛选模块 | 题目名称                |字符串       |1-16个字符              |
| 题目筛选模块 | 题目描述                |字符串       |1-64个字符              |
| 题目筛选模块 | 题目标签                |字符串       |1-6个字符               |
| 题目筛选模块 | 是否公开                |布尔型       |是/否                   |
| 题目查看模块 | 无需输入，直接查看即可   |
| 题目编辑模块 | 题目名称                |字符串       |1-16个字符              |
| 题目编辑模块 | 题目描述                |字符串       |1-64个字符              |
| 题目编辑模块 | 题目标签                |字符串       |1-6个字符               |
| 题目编辑模块 | 是否公开                |布尔型       |是/否                   |
| 题目删除模块 | 无需输入，直接删除即可     |

##### 4.2.3.5 输出

| 子功能模块   | 输出内容               |
| ------------ | ---------------------- |
| 题目添加模块 | 添加成功、添加失败     |
| 题目筛选模块 | 满足筛选条件的所有题目 |
| 题目查看模块 | 当前题库内所有题目     |
| 题目编辑模块 | 编辑成功、编辑失败     |
| 题目删除模块 | 删除成功、删除失败     |

##### 4.2.3.6 用户界面

略

### 4.3 自主组卷练习功能

### 4.4 比赛功能

## 5 非功能性需求

### 5.1 界面需求

#### 5.1.1 管理端界面

#### 5.1.2 用户端界面
小程序界面即小程序前端界面，整体用javascript编写。前端共包括6个界面：1、菜单主页面；2、自主练习页面；3、答题闯关页面；4、竞赛选择页面；5、错题回顾页面；6、限时答题页面

##### 5.1.2.1 菜单主页面

菜单主页面提供登录和选择学习模式的功能，具体模式如下：

1、顶栏：登录选项，绑定微信后自动跳转回菜单主页面，身份为用户

2、中栏：①自主练习按钮，点击后可进入自主练习页面
				   ②错题回顾按钮，点击后可进入错题回顾页面 
				   ③竞赛选择按钮，点击后可进入竞赛选择页面
				   ④答题闯关按钮，点击后可进入答题闯关页面

3、底栏：显示版本号及法律信息

##### 5.1.2.2 自主练习页面

自主练习页面提供选择题目类型及做题方式功能，具体模式如下：

1、中上栏：①勾选练习学科（例，数学、语文……）
					   ②勾选题目类型（例，单选、多选……）

2、中下栏：开始答题按钮，点击后可进入限时答题页面

##### 5.1.2.3 答题闯关页面

答题闯关页面提供选择题库及选择难度功能，具体模式如下：

1、中上栏：①勾选题库
					   ②勾选难度

2、中下栏：开始答题按钮，点击后可进入限时答题页面

##### 5.1.2.4 竞赛选择页面

竞赛选择页面提供申请竞赛功能，具体模式如下：
管理员会在此页面发布一些考试竞赛并会同时给予用户能否参加这些考试竞赛的权限，如果该用户可参加竞赛，则可点击按钮进入限时答题页面，否则无法进入

##### 5.1.2.5 错题回顾页面

错题回顾页面提供回顾错题、显示用户总做题数功能，具体模式如下：

1、顶栏：显示用户总做题数

2、中栏：直接显示错题，用户选择完选项则显示下一题，直到无错题

3、中下栏：题目选项按钮，点击后可显示下一题

##### 5.1.2.6 限时答题页面

限时答题页面提供显示剩余时间和选择题目选项功能，具体模式如下：

1、顶栏：显示剩余时间

2、中栏：显示题干

3、中下栏：题目选项按钮，点击后可显示下一题

### 5.2 性能要求

#### 5.2.1 数据性能

##### 5.2.1.1数据类型支持

系统支持**布尔型**、**整型**、**浮点型**、**字符串类型**、**日期类型**、**时间类型**等基本数据类型。

##### 5.2.1.2 数据量支持

系统对所有数据类型支持能力不小于1TB。

##### 5.2.1.3 数据库性能要求

根据本系统数据的特点,采用**标准MYSQL语句**，以便将来的扩展和移植。

系统将采用数据库建模工具，根据系统功能模块的设计，构建出整个数据库。在构建数据库时，也会定义好数据库表的约束、关联以及索引。

#### 5.2.2 并发性能

##### 5.2.2.1 数据库并发

数据库支持超过300个用户的并发访问。

##### 5.2.2.2 访问并发

用户端及管理端支持不少于100个用户的并发访问。

#### 5.2.3 响应性能

##### 5.2.3.1 查询响应

数据查询响应时间不超过1秒。

#### 5.2.4 架构特性

##### 5.2.4.1 可靠性

系统提供全天候的不间断服务。

##### 5.2.4.2 稳定性

系统会合理利用资源，在资源足够时不会出现界面混乱、按钮消失、数据错误、系统崩溃等问题。

##### 5.2.4.3 扩展性

系统各部分功能高度模块化，并预留了接口，需要扩展时可以使用预留的接口。

##### 5.2.4.4 兼容性

该系统管理端可以在各个浏览器使用，用户端可以在各种型号、各种系统的手机上使用。

### 5.3 容量要求

系统拥有磁盘容量1TB。预计用户量为2000人，每人拥有10MB空间存储个人信息，则共需要20GB来存储个人信息。预计题目量为10000题，每题需要10MB空间存储信息，则共需要100GB来存储题目信息。预计比赛量为500场，每场需要50MB空间存储信息，则共需要25GB来存储比赛信息。后台需要对每名用户进行数据分析和统计，预计需要200GB空间来存储数据。预留1GB空间用于存储代码，剩余空间留作备用。

### 5.4 组织需求

系统用户分为三类：超级管理员、管理员和用户。超级管理员可以使用管理员的功能，但超级管理员和管理员都不能使用用户的功能。

### 5.5 安全需求

系统保证数据库数据不会被随意篡改，并且在被恶意篡改后可以及时恢复。

用户密码使用SHA256加密方法存储，保证用户密码不会被泄露。

验证信息在后端检验，防止数据泄露。

限制每个用户访问的频率为**3次/秒**，降低系统被流量攻击的可能。

### 5.6 法律需求

本系统将依照以下法律对用户隐私进行保护：

1. 《中华人民共和国宪法》第三十八条。

2. 《中华人民共和国刑法》第二百五十三条。

3. 《中华人民共和国民法》第一百条、第一百零一条。

4. 《中华人民共和国侵权责任法》第二条。

5. 《中华人民共和国未成年人保护法》第三十九条。

# 附录

## 需求简述

1. 账户管理

   - 用户端的账户除基本个人信息, 还包括比赛rating和练习比赛的历史记录.
   - 管理员账户由super账户创建, 可以管理题库, 创建比赛.
   - super账户是运维人员在后端添加的, 除了可以创建和管理管理员账户之外, 权限和管理员账户相同.

2. 题库管理(管理端)

   题库由管理员进行管理. 题库包括一众不同类型的题目(选择填空等), 题目除了基本的描述和正确答案等信息之外, 还包括题目所属领域和是否公开的标签, 标签是可以被修改的. 管理员可以通过固定的格式批量添加题目, 也可以修改删除题目.

3. 用户个人练习(用户端)

   个人练习不计入rating, 作用只是练习. 其生成机制是根据用户设定的题目数量和选择的题目类型, 从题库中所有的公开题目中随机抽取这样多的题目供用户练习, 反馈正确答案和简单的统计数据.

4. 计时比赛(用户端, 管理端)

   - 计时比赛可以选择是否计入rating. 比赛是由管理员创建的, 一场比赛包含的题单可由管理员在题库中任意选择(计入rating的比赛建议选择未公开的题目以保公平). 同时, 比赛开始时间也是由管理员设定的. 
   - 比赛流程: 赛前用户要注册比赛, 未注册的到时不能参赛. 用户到时间进入比赛后显示题目. 每道题目有限时, 若超过时限则会视为放弃作答而跳转至下一题目. 时限可能因题目类型的不同而不同. 每道题提交后不能再做修改, 最后用于统计评分排名的量为比赛总用时和正确率.
   - 比赛结束用户端可以看到个人结果, 排名和前三名结果. 管理端可以显示所有用户排名.
   - 对于计入rating的比赛, 相关管理员应当在结束后在管理端更新参赛用户的rating.
   - 可选功能: 为私有比赛需求提供服务. 这样的比赛用户注册后不会自动通过, 而是需要比赛创建者在管理端进行审批.

## 绘图示例

这里有一些示例, 自行取用 (需要用typora编辑)

**图片和标题的居中显示**

<div>			<!--块级封装-->
    <center>	<!--将图片和文字居中-->
    <img src="图片路径放这里"
         alt="sry, 无法显示图片"
         style="zoom:这里写图片的缩放百分比"/>
    <br>		<!--换行-->
    图1 xxx图片描述	<!--标题-->
    </center>
</div>
**流图**

```flow
st=>start: 用户登陆
op=>operation: 登陆操作
cond=>condition: 登陆成功 Yes or No?
e=>end: 进入后台

st->op->cond
cond(yes)->e
cond(no)->op
```



**序列图**

```sequence
Andrew->China: Says Hello 
Note right of China: China thinks\nabout it 
China-->Andrew: How are you? 
Andrew->>China: I am good thanks!
```
