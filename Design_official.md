[TOC]

# BrainStorm 知识竞赛系统设计文档

## 1 版本历史

| 日期     | 版本 | 人员   | 更新内容                      |
| -------- | ---- | ------ | ----------------------------- |
| 22.03.26 | v0.0 | 赵子涵 | 创建文档及目录; 编写文档介绍. |
| 22.03.28 | v0.1 | 李昀泽 | 编辑功能 A 目录               |
| 22.03.28 | v0.2 | 刘硕   | 编写 A1 功能，修改功能 A 目录 |

## 2 文档介绍

### 2.1 文档目的

本文档是由 BrainStorm 团队编写, 为 BrainStorm 知识竞赛系统编写的设计文档. 服务于使用和开发本系统的各种人群, 和执行评审的软工课程组.

文档对逻辑分类的各个功能具体描述了界面设计, 接口设计和主要的数据库设计.

望本文能带领读者了解系统的设计细节, 给开发人员提供明确的指导.

### 2.2 术语解释

| 缩写 | 解释                    |
| ---- | ----------------------- |
| BS   | BrainStorm 知识竞赛系统 |
|      |                         |
|      |                         |

### 2.3 参考文献

[1] OmniSci 团队，《设计报告》，北航计算机学院，2019.06.09.

## 3 用户信息管理功能(A)

| 子功能名称                     | 子功能代号 | 描述                                                                                                                     |
| ------------------------------ | ---------- | ------------------------------------------------------------------------------------------------------------------------ |
| 管理员账号登录功能             | A1         | （超级）管理员填写账号密码进行登录。                                                                                     |
| 创建、删除管理员账号功能       | A2         | 由超级管理员创建管理员账号并设定初始密码，管理员可自行修改个人密码。超级管理员可以删除管理员账号，但不能删除自己的账号。 |
| 重置管理员密码功能             | A3         | 超级管理员可将管理员密码重置为默认密码                                                                                   |
| （超级）管理员信息查询功能     | A4         | （超级）管理员可直接浏览系统中所有管理员的信息，并可按（超级）管理员用户名进行查询                                       |
| 微信小程序用户信息查询功能     | A5         | （超级）管理员可直接浏览所有小程序用户的信息，并支持根据用户名进行筛选                                                   |
| （超级）管理员个人信息修改功能 | A6         | （超级）管理员可在个人中心对个人信息进行修改                                                                             |

### 3.1 功能 A1 实现

#### 3.1.1 功能简述

管理端支持两类管理员通过用户名和密码登录。前端对是否输入信息进行验证，如输入框失去焦点后无信息存留，则提示输入信息。如输入的用户名和密码信息正确则进入系统，否则给出错误信息提示。

#### 3.1.2 功能实现流程

<div>			<!--块级封装-->
    <center>	<!--将图片和文字居中-->
    <img src="img\login.png" alt="login" style="zoom:60%;"/>
    <br>		<!--换行-->
    图 3.1.2 管理员登录流程图	<!--标题-->
    </center>
</div>

#### 3.1.3 用户界面设计

| 序号 | 类型 | 信息内容     | 信息表现 | 说明           |
| ---- | ---- | ------------ | -------- | -------------- |
| 1    | 必选 | 用户名输入框 | 字符提示 | 显示在登录框中 |
| 2    | 必选 | 密码输入框   | 字符提示 | 显示在登录框中 |
| 3    | 必选 | 登录按钮     | 字符提示 | 显示在登录框中 |

#### 3.1.4 相关接口

| 序号 | 类型 | 接口名称         | 来源/文档编号 | 说明       |
| ---- | ---- | ---------------- | ------------- | ---------- |
| 1    | 内部 | /api/admin/login | 8.1           | 管理员登录 |

#### 3.1.5 异常处理

| 序号 | 错误编码 | 错误信息         | 说明/处理办法                                              |
| ---- | -------- | ---------------- | ---------------------------------------------------------- |
| 1    | A1-E01   | 未输入用户名     | 用户名输入框失去焦点后无输入信息，提示输入用户名           |
| 2    | A1-E02   | 未输入密码       | 用户名输入框失去焦点后无输入信息，提示输入密码             |
| 3    | A1-E03   | 缺少输入项       | 点击登录后检测到未输入用户名或密码，提示输入必要表单项     |
| 4    | A1-E04   | 用户名或密码错误 | 点击登录后检测到用户名或密码密码错误，提示用户名或密码错误 |

### 3.2 功能 A2 实现

#### 3.2.1 功能简述

#### 3.2.2 功能实现流程

#### 3.2.3 用户界面设计

#### 3.2.4 相关接口

| 序号 | 类型 | 接口名称                  | 来源/文档编号 | 说明                                     |
| ---- | ---- | ------------------------- | ------------- | ---------------------------------------- |
| 1    | 内部 | /api/admin/account        | 8.3           | 创建、删除管理员账号，查看、修改个人信息 |
| 2    | 内部 | /api/admin/reset_password | 8.4           | 重置管理员密码                           |

#### 3.2.5 异常处理

### 3.3 功能 A3 实现

#### 3.3.1 功能简述

#### 3.3.2 功能实现流程

#### 3.3.3 用户界面设计

#### 3.3.4 相关接口

| 序号 | 类型 | 接口名称                  | 来源/文档编号 | 说明                                     |
| ---- | ---- | ------------------------- | ------------- | ---------------------------------------- |
| 1    | 内部 | /api/admin/account        | 8.3           | 创建、删除管理员账号，查看、修改个人信息 |
| 2    | 内部 | /api/admin/reset_password | 8.4           | 重置管理员密码                           |

#### 3.3.5 异常处理

### 3.4 功能 A4 实现

#### 3.4.1 功能简述

#### 3.4.2 功能实现流程

#### 3.4.3 用户界面设计

#### 3.4.4 相关接口

| 序号 | 类型 | 接口名称                  | 来源/文档编号 | 说明                                     |
| ---- | ---- | ------------------------- | ------------- | ---------------------------------------- |
| 1    | 内部 | /api/admin/account        | 8.3           | 创建、删除管理员账号，查看、修改个人信息 |
| 2    | 内部 | /api/admin/reset_password | 8.4           | 重置管理员密码                           |

#### 3.4.5 异常处理

### 3.5 功能 A5 实现

#### 3.5.1 功能简述

#### 3.5.2 功能实现流程

#### 3.5.3 用户界面设计

#### 3.5.4 相关接口

| 序号 | 类型 | 接口名称                  | 来源/文档编号 | 说明                                     |
| ---- | ---- | ------------------------- | ------------- | ---------------------------------------- |
| 1    | 内部 | /api/admin/account        | 8.3           | 创建、删除管理员账号，查看、修改个人信息 |
| 2    | 内部 | /api/admin/reset_password | 8.4           | 重置管理员密码                           |

#### 3.5.5 异常处理

### 3.6 功能 A6 实现

#### 3.6.1 功能简述

#### 3.6.2 功能实现流程

#### 3.6.3 用户界面设计

#### 3.6.4 相关接口

| 序号 | 类型 | 接口名称                  | 来源/文档编号 | 说明                                     |
| ---- | ---- | ------------------------- | ------------- | ---------------------------------------- |
| 1    | 内部 | /api/admin/account        | 8.3           | 创建、删除管理员账号，查看、修改个人信息 |
| 2    | 内部 | /api/admin/reset_password | 8.4           | 重置管理员密码                           |

#### 3.6.5 异常处理

## 4 题库管理功能(B)

## 5 自主组卷练习功能(C)

## 6 比赛功能(D)

## 7 答题功能(E)

## 8 接口设计

接口定义请与后端讨论确定

| 序号 | 类型 | 接口名称                          | 来源/文档编号 | 说明                                     |
| ---- | ---- | --------------------------------- | ------------- | ---------------------------------------- |
| 1    | 内部 | /api/admin/login                  | 8.1           | 管理员登录                               |
| 2    | 内部 | /api/admin/logout                 | 8.2           | 管理员登出                               |
| 3    | 内部 | /api/admin/account                | 8.3           | 创建、删除管理员账号，查看、修改个人信息 |
| 4    | 内部 | /api/admin/reset_password         | 8.4           | 重置管理员密码                           |
| 5    | 内部 | /api/admin/list_admin             | 8.5           | 列出管理员账号                           |
| 6    | 内部 | /api/admin/list_user              | 8.6           | 列出用户账号                             |
| 7    | 内部 | /api/admin/integrity_verification | 8.7           | 检测管理员信息是否完整                   |
| 8    | 内部 | /api/admin/issuper                | 8.8           | 检测是否为超级管理员                     |
|      |      |                                   |               |                                          |
|      |      |                                   |               |                                          |
|      | 内部 | /api/user/login                   |               | 用户登录                                 |
|      | 内部 | /api/user/logout                  |               | 用户登出                                 |
|      | 内部 | /api/user/account                 |               | 用户查看、修改个人信息                   |
|      | 内部 | /api/user/collect                 |               | 用户自主组卷答题                         |
|      |      |                                   |               |                                          |

### 8.1 接口 1 定义(这些不着急写, 可以等 API 写完在这放一个精简版)

## 9 数据库设计
